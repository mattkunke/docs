<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guides/validator-ejector-guide">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Validator Ejector | Lido Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lidofinance.github.io/guides/validator-ejector-guide"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Validator Ejector | Lido Docs"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://lidofinance.github.io/guides/validator-ejector-guide"><link data-rh="true" rel="alternate" href="https://lidofinance.github.io/guides/validator-ejector-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://lidofinance.github.io/guides/validator-ejector-guide" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e31c8e1d.css">
<link rel="preload" href="/assets/js/runtime~main.c45f33a5.js" as="script">
<link rel="preload" href="/assets/js/main.9fc74317.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Lido Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Lido Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Lido Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lidofinance" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-dao">Lido DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guides/lido-tokens-integration-guide">Lido tokens integration guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/guides/node-operators/general-overview">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/guides/node-operators/general-overview">Node Operators</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/oracle-operator-manual">Oracle Operator Manual</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/deposit-security-manual">Deposit Security Committee manual</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/guides/tooling">Tooling</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/tooling">Tooling Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/validator-ejector-guide">Validator Ejector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/kapi-guide">Keys API</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/multisig-deployment">Multisig deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/protocol-levers">Protocol levers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/etherscan-voting">DAO voting with Etherscan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/easy-track-guide">Guide to Easy Track</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/address-ownership-guide">Verifying address ownership for Lido DAO ops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/multisig-signer-manual">Guide to being a signer at any Lido DAO multisigs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/checking-aragon-vote">Checking the evm script from Aragon vote</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/checking-gnosis-safe">How to verify the multisig is a Gnosis one</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/1inch-pool-rewards">How to claim 1inch stETH/LDO pool rewards</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/early-staker-airdrop">How to claim Lido early stakers airdrop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/jumpgates">How to Bridge Tokens through Jumpgate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/verify-lido-v2-upgrade-manual">Lido V2 mainnet parameters</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/integrations/api">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/token-guides/steth-superuser-functions">Token guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/contracts/lido-locator">Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/security/bugbounty">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/deployed-contracts/">Deployed contracts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deployed contracts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tooling</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Validator Ejector</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Validator Ejector</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>Ejector is a daemon service which monitors <a href="https://github.com/lidofinance/lido-dao/blob/feature/shapella-upgrade/contracts/0.8.9/oracle/ValidatorsExitBusOracle.sol" target="_blank" rel="noopener noreferrer">ValidatorsExitBusOracle</a> events and sends out stored exit messages when necessary. It allows Node Operators to generate and sign exit messages ahead of time, which will be sent out by the Ejector when the Protocol requests an exit to be made.</p><p>On start, it loads exit messages from a specified folder in form of individual <code>.json</code> files and validates their format, structure and signature. Then, it loads events from a configurable amount of latest finalized blocks, checks if exits should be made and after that periodically fetches fresh events.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hardware">Hardware<a href="#hardware" class="hash-link" aria-label="Direct link to Hardware" title="Direct link to Hardware">​</a></h3><ul><li>2-core CPU</li><li>1GB RAM</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nodes">Nodes<a href="#nodes" class="hash-link" aria-label="Direct link to Nodes" title="Direct link to Nodes">​</a></h3><ul><li>Execution Node - <a href="https://ethereum.org/en/developers/docs/nodes-and-clients/#node-types" target="_blank" rel="noopener noreferrer">Full node required</a></li><li>Consensus Node</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="software">Software<a href="#software" class="hash-link" aria-label="Direct link to Software" title="Direct link to Software">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-docker">Using Docker:<a href="#using-docker" class="hash-link" aria-label="Direct link to Using Docker:" title="Direct link to Using Docker:">​</a></h4><p>Docker + docker-compose.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-directly-or-using-for-message-encryption">Running directly or using for message encryption:<a href="#running-directly-or-using-for-message-encryption" class="hash-link" aria-label="Direct link to Running directly or using for message encryption:" title="Direct link to Running directly or using for message encryption:">​</a></h4><p>Node.js 16.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exit-messages">Exit Messages<a href="#exit-messages" class="hash-link" aria-label="Direct link to Exit Messages" title="Direct link to Exit Messages">​</a></h2><p>Ejector loads and validates exit messages on start. This means that any changes to the messages folder (eg new exit messages) require a restart of the app to be picked up.</p><p>Ejector accepts messages in three formats:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="generic-format">Generic Format<a href="#generic-format" class="hash-link" aria-label="Direct link to Generic Format" title="Direct link to Generic Format">​</a></h3><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token property">&quot;epoch&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token property">&quot;validator_index&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;signature&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ethdo-output-format">ethdo Output Format<a href="#ethdo-output-format" class="hash-link" aria-label="Direct link to ethdo Output Format" title="Direct link to ethdo Output Format">​</a></h3><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;exit&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token property">&quot;epoch&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token property">&quot;validator_index&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;signature&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;fork_version&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="encrypted-format">Encrypted Format<a href="#encrypted-format" class="hash-link" aria-label="Direct link to Encrypted Format" title="Direct link to Encrypted Format">​</a></h3><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;version&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;uuid&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123abc-123abc-123abc&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;path&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;pubkey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;crypto&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;kdf&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;function&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pbkdf2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;params&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;dklen&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">123</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;c&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">123</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;prf&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;hmac-sha256&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;salt&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123abc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;checksum&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;function&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sha256&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;params&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123abc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;cipher&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;function&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;aes-128-ctr&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;params&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token property">&quot;iv&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123abc&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123abc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="encrypting-messages">Encrypting Messages<a href="#encrypting-messages" class="hash-link" aria-label="Direct link to Encrypting Messages" title="Direct link to Encrypting Messages">​</a></h2><p>It is highly advised that after exit message are generated and signed, they should be encrypted for storage safety. Ejector will decrypt files on start by looking up the password in <code>MESSAGES_PASSWORD</code> environment variable.</p><p>Exit messages are encrypted and decrypted by Ejector following the <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-2335.md" target="_blank" rel="noopener noreferrer">EIP-2335</a> spec.</p><p>Ejector is bundled with a small, easy to use encryption script.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="encryption-using-ejector---source-code">Encryption using Ejector - Source Code<a href="#encryption-using-ejector---source-code" class="hash-link" aria-label="Direct link to Encryption using Ejector - Source Code" title="Direct link to Encryption using Ejector - Source Code">​</a></h3><ol><li>Clone repository:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/lidofinance/validator-ejector.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> validator-ejector</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Create <code>.env</code> file with encryption password or pass before the command:</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MESSAGES_PASSWORD=password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Copy JSON exit message files to <code>encryptor/input</code></li><li>Run <code>yarn &amp; yarn encrypt</code></li><li>Encrypted exit message files will be saved to <code>encryptor/output</code></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="encryption-using-ejector---docker">Encryption using Ejector - Docker<a href="#encryption-using-ejector---docker" class="hash-link" aria-label="Direct link to Encryption using Ejector - Docker" title="Direct link to Encryption using Ejector - Docker">​</a></h3><p>Ejector is bundled with encryptor script inside, so you can run it using the same Docker image:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">MESSAGES_PASSWORD</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">secret </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        -v /full/path/to/input:/app/encryptor/input/ </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        -v /full/path/to/output:/app/encryptor/output/ </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        lidofinance/validator-ejector@sha256:</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">hash</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">node</span><span class="token plain"> /app/dist/encryptor/encrypt.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can find a recommended version&#x27;s hash <a href="/guides/tooling">here</a>.</p><p>For platforms with a different architecture but with emulation/transpilation support eg macOS on M processors, additionally specify:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">--platform linux/amd64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="env-variables">Env Variables<a href="#env-variables" class="hash-link" aria-label="Direct link to Env Variables" title="Direct link to Env Variables">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution_node">EXECUTION_NODE<a href="#execution_node" class="hash-link" aria-label="Direct link to EXECUTION_NODE" title="Direct link to EXECUTION_NODE">​</a></h3><p>Address of the Execution Node.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="consensus_node">CONSENSUS_NODE<a href="#consensus_node" class="hash-link" aria-label="Direct link to CONSENSUS_NODE" title="Direct link to CONSENSUS_NODE">​</a></h3><p>Address of the Consensus Node.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="locator_address">LOCATOR_ADDRESS<a href="#locator_address" class="hash-link" aria-label="Direct link to LOCATOR_ADDRESS" title="Direct link to LOCATOR_ADDRESS">​</a></h3><p>Address of the <a href="https://github.com/lidofinance/lido-dao/blob/feature/shapella-upgrade/contracts/0.8.9/LidoLocator.sol" target="_blank" rel="noopener noreferrer">LidoLocator</a> contract: <a href="https://docs.lido.fi/deployed-contracts/goerli" target="_blank" rel="noopener noreferrer">Goerli</a> / <a href="https://docs.lido.fi/deployed-contracts/" target="_blank" rel="noopener noreferrer">Mainnet</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="staking_module_id">STAKING_MODULE_ID<a href="#staking_module_id" class="hash-link" aria-label="Direct link to STAKING_MODULE_ID" title="Direct link to STAKING_MODULE_ID">​</a></h3><p>ID of the <a href="https://github.com/lidofinance/lido-dao/blob/feature/shapella-upgrade/contracts/0.8.9/StakingRouter.sol" target="_blank" rel="noopener noreferrer">StakingRouter</a> contract module.</p><p>Currently, it has only one module (<a href="https://github.com/lidofinance/lido-dao/blob/feature/shapella-upgrade/contracts/0.4.24/nos/NodeOperatorsRegistry.sol" target="_blank" rel="noopener noreferrer">NodeOperatorsRegistry</a>), it&#x27;s id is <code>1</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="operator_id">OPERATOR_ID<a href="#operator_id" class="hash-link" aria-label="Direct link to OPERATOR_ID" title="Direct link to OPERATOR_ID">​</a></h3><p>You can find it on the Operators Dashboard (<code>#123</code> on the operator card): <a href="https://operators.testnet.fi" target="_blank" rel="noopener noreferrer">Goerli</a> / <a href="https://operators.lido.fi" target="_blank" rel="noopener noreferrer">Mainnet</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="messages_location">MESSAGES_LOCATION<a href="#messages_location" class="hash-link" aria-label="Direct link to MESSAGES_LOCATION" title="Direct link to MESSAGES_LOCATION">​</a></h3><p>Location from which to load <code>.json</code> exit messages from.</p><p>When set, messages mode will be activated. Not needed if you are using the Ejector in webhook mode.</p><p>For example, <code>/messages</code> in Docker or simply <code>messages</code> if running directly for local files.</p><p>External storage bucket url is also supported for AWS S3 and Google Cloud Storage:</p><ul><li><code>s3://</code> for S3</li><li><code>gs://</code> for GCS</li></ul><p>Authentication setup: <a href="https://cloud.google.com/docs/authentication/application-default-credentials#attached-sa" target="_blank" rel="noopener noreferrer">GCS</a>, <a href="https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/setting-credentials-node.html" target="_blank" rel="noopener noreferrer">S3</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="validator_exit_webhook">VALIDATOR_EXIT_WEBHOOK<a href="#validator_exit_webhook" class="hash-link" aria-label="Direct link to VALIDATOR_EXIT_WEBHOOK" title="Direct link to VALIDATOR_EXIT_WEBHOOK">​</a></h3><p>Endpoint to fetch when an exit has to be made. Allows to implement JIT approach by offloading exiting logic to an external service and using the Ejector as a secure exit events reader.</p><p>When set, webhook mode will be activated. Not needed if you are using the Ejector in messages mode.</p><p>On the endpoint, JSON will be POSTed with the following structure:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;validatorIndex&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;validatorPubkey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>200 response will be counted as a successful exit, non-200 as a fail.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="oracle_addresses_allowlist">ORACLE_ADDRESSES_ALLOWLIST<a href="#oracle_addresses_allowlist" class="hash-link" aria-label="Direct link to ORACLE_ADDRESSES_ALLOWLIST" title="Direct link to ORACLE_ADDRESSES_ALLOWLIST">​</a></h3><p>JSON array of Lido Oracle addresses, from which only report transactions will be accepted.</p><p>You can get a list from the Aragon app: <a href="https://testnet.testnet.fi/#/lido-testnet-prater/0x24d8451bc07e7af4ba94f69acdd9ad3c6579d9fb/" target="_blank" rel="noopener noreferrer">Goerli</a> / <a href="https://mainnet.lido.fi/#/lido-dao/0xae7ab96520de3a18e5e111b5eaab095312d7fe84/" target="_blank" rel="noopener noreferrer">Mainnet</a></p><p>Format:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="messages_password">MESSAGES_PASSWORD<a href="#messages_password" class="hash-link" aria-label="Direct link to MESSAGES_PASSWORD" title="Direct link to MESSAGES_PASSWORD">​</a></h3><p>Password to decrypt encrypted exit messages with on app start.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="messages_password_file">MESSAGES_PASSWORD_FILE<a href="#messages_password_file" class="hash-link" aria-label="Direct link to MESSAGES_PASSWORD_FILE" title="Direct link to MESSAGES_PASSWORD_FILE">​</a></h3><p>Alternative to <code>MESSAGES_PASSWORD</code>. Path to a file with password inside to decrypt exit messages with. If used, MESSAGES_PASSWORD (not MESSAGES_PASSWORD_FILE) needs to be added to LOGGER_SECRETS in order to be sanitized</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="blocks_preload">BLOCKS_PRELOAD<a href="#blocks_preload" class="hash-link" aria-label="Direct link to BLOCKS_PRELOAD" title="Direct link to BLOCKS_PRELOAD">​</a></h3><p>Amount of blocks to load events from on start.</p><p>Suggested to include in your env variables, but to be left at default 50000 value (~7 days of blocks).</p><p>In case your Ejector will be down due to an emergency, this value can be tweaked to let the Ejector load a higher amount of blocks on start.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_port">HTTP_PORT<a href="#http_port" class="hash-link" aria-label="Direct link to HTTP_PORT" title="Direct link to HTTP_PORT">​</a></h3><p>Port for serving metrics and a health check endpoint. Default is 8989.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run_metrics">RUN_METRICS<a href="#run_metrics" class="hash-link" aria-label="Direct link to RUN_METRICS" title="Direct link to RUN_METRICS">​</a></h3><p>Enable with <code>true</code> to serve Prometheus metrics: <a href="https://github.com/lidofinance/validator-ejector#metrics" target="_blank" rel="noopener noreferrer">full list</a>.</p><p>Will be served on <code>HOST:$HTTP_PORT/metrics</code>.</p><p>Highly advised for monitoring and alerting.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run_health_check">RUN_HEALTH_CHECK<a href="#run_health_check" class="hash-link" aria-label="Direct link to RUN_HEALTH_CHECK" title="Direct link to RUN_HEALTH_CHECK">​</a></h3><p>Enabled by default, disabled with <code>false</code>. Highly recommended to monitor this endpoint.</p><p>Will be served on <code>HOST:$HTTP_PORT/health</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logger_level">LOGGER_LEVEL<a href="#logger_level" class="hash-link" aria-label="Direct link to LOGGER_LEVEL" title="Direct link to LOGGER_LEVEL">​</a></h3><p>Recommended to set to <code>info</code> (default), can be changed to <code>debug</code> in case of issues for easier debugging.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logger_format">LOGGER_FORMAT<a href="#logger_format" class="hash-link" aria-label="Direct link to LOGGER_FORMAT" title="Direct link to LOGGER_FORMAT">​</a></h3><p>Format of logs, <code>simple</code> by default, but can be set to <code>json</code> to be easily parseable by <a href="https://github.com/grafana/loki" target="_blank" rel="noopener noreferrer">Loki</a>, for example.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logger_secrets">LOGGER_SECRETS<a href="#logger_secrets" class="hash-link" aria-label="Direct link to LOGGER_SECRETS" title="Direct link to LOGGER_SECRETS">​</a></h3><p>Env var names or exact values which should be replaced in logs, in JSON array of strings format.</p><p>Advised to include your MESSAGES_PASSWORD, EXECUTION_NODE, and MESSAGES_PASSWORD:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MESSAGES_PASSWORD&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;EXECUTION_NODE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;CONSENSUS_NODE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Notice: make sure quotes are copied correctly if copying this sample.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dry_run">DRY_RUN<a href="#dry_run" class="hash-link" aria-label="Direct link to DRY_RUN" title="Direct link to DRY_RUN">​</a></h3><p>Allows to test the app with <code>true</code> without actually sending out exit messages.</p><p>Use with caution!</p><p>Make sure to set to <code>false</code> or completely leave it out in production.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-parameters">Advanced Parameters<a href="#advanced-parameters" class="hash-link" aria-label="Direct link to Advanced Parameters" title="Direct link to Advanced Parameters">​</a></h3><p>Please don&#x27;t use unless suggested by a Lido contributor.</p><ul><li>BLOCKS_LOOP - 900 (3 hours of blocks) - Amount of blocks Ejector looks behind on wake in polling jobs.</li><li>JOB_INTERVAL - 384000 (1 epoch) - Time for which Ejector sleeps between jobs.</li><li>DISABLE_SECURITY_DONT_USE_IN_PRODUCTION - false - Set to <code>true</code> to skip security checks, for example if Exit Bus Consensus contract was changed after the Ejector was unable to exit validators eg was switched off.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running">Running<a href="#running" class="hash-link" aria-label="Direct link to Running" title="Direct link to Running">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="source-code">Source Code<a href="#source-code" class="hash-link" aria-label="Direct link to Source Code" title="Direct link to Source Code">​</a></h3><ol><li>Clone repository:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/lidofinance/validator-ejector.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> validator-ejector</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Create exit messages folder, for example locally <code>mkdir messages</code></li><li>Put exit message files in the messages folder.</li><li>Copy env sample file <code>cp sample.env .env</code></li><li>Fill environment variables in <code>.env</code> file.</li><li>Run</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-with-docker-compose">Docker with docker-compose<a href="#docker-with-docker-compose" class="hash-link" aria-label="Direct link to Docker with docker-compose" title="Direct link to Docker with docker-compose">​</a></h3><ol><li>Create root folder for Ejector, cd into that folder.</li><li>Create exit messages folder <code>mkdir messages</code></li><li>Put exit message files in messages folder.</li><li>Copy env file <code>cp sample.env .env</code></li><li>Fill environment variables in .env file.</li><li>Create <code>docker-compose.yml</code> file using the following template:</li></ol><p><a href="https://github.com/lidofinance/validator-ejector/blob/develop/docker-compose.yml" target="_blank" rel="noopener noreferrer">https://github.com/lidofinance/validator-ejector/blob/develop/docker-compose.yml</a></p><ol start="6"><li>Run <code>docker-compose up</code> or <code>docker-compose up -d</code> to start in detached mode (in background).</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-ejector-is-working">Check Ejector is working<a href="#check-ejector-is-working" class="hash-link" aria-label="Direct link to Check Ejector is working" title="Direct link to Check Ejector is working">​</a></h2><ol><li>Ensure there are no errors in logs and no restarts.</li><li>Verify that config logged on start is correct in logs.</li><li>If you have put presigned messages in the messages folder, make sure Loaded Messages count is greater than <code>0</code>.</li><li>Ensure you can see <code>Job started</code> and <code>Job finished</code> lines in logs.</li></ol><p>Example of correct operation logs:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Application started, version 1.0.0 {&quot;EXECUTION_NODE&quot;:&quot;&lt;secret&gt;&quot;,&quot;CONSENSUS_NODE&quot;:&quot;&lt;secret&gt;&quot;,&quot;LOCATOR_ADDRESS&quot;:&quot;0x123&quot;,&quot;STAKING_MODULE_ID&quot;:&quot;1&quot;,&quot;OPERATOR_ID&quot;:&quot;0&quot;,&quot;MESSAGES_LOCATION&quot;:&quot;messages&quot;,&quot;ORACLE_ADDRESSES_ALLOWLIST&quot;:[&quot;0x123&quot;],&quot;MESSAGES_PASSWORD&quot;:&quot;&lt;secret&gt;&quot;,&quot;BLOCKS_PRELOAD&quot;:190000,&quot;BLOCKS_LOOP&quot;:64,&quot;JOB_INTERVAL&quot;:384000,&quot;HTTP_PORT&quot;:8989,&quot;RUN_METRICS&quot;:true,&quot;RUN_HEALTH_CHECK&quot;:true,&quot;DRY_RUN&quot;:false}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Loading messages from messages</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Loaded 123 messages</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Validating messages</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Starting, searching only for requests for operator 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Loading initial events for 190000 last blocks</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Job started {&quot;operatorId&quot;:&quot;0&quot;,&quot;stakingModuleId&quot;:&quot;1&quot;,&quot;loadedMessages&quot;:123}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Resolved Exit Bus contract address using the Locator {&quot;exitBusAddress&quot;:&quot;0x123&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Resolved Consensus contract address {&quot;consensusAddress&quot;:&quot;0x123&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Fetched the latest block from EL {&quot;latestBlock&quot;:12345}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Fetching request events from the Exit Bus {&quot;eventsNumber&quot;:190000,&quot;fromBlock&quot;:12345,&quot;toBlock&quot;:12345}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Loaded ValidatorExitRequest events {&quot;amount&quot;:0}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Handling ejection requests {&quot;amount&quot;:0}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Job finished</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info: Starting 384 seconds polling for 64 last blocks</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-if-something-is-wrong">What if something is wrong?<a href="#what-if-something-is-wrong" class="hash-link" aria-label="Direct link to What if something is wrong?" title="Direct link to What if something is wrong?">​</a></h2><ol><li>Make sure configuration is correct.</li><li>Make sure you are on the recommended Docker image SHA hash or version if running directly.</li><li>Check if Nodes are synced and are working correctly.</li><li>Restart the app.</li><li>Start the app with LOGGER_LEVEL=debug env variable and contact Lido devs with logs to investigate the problem.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-resources">Additional Resources<a href="#additional-resources" class="hash-link" aria-label="Direct link to Additional Resources" title="Direct link to Additional Resources">​</a></h2><p>Validator Ejector GitHub Repository (Open Source)
<a href="https://github.com/lidofinance/validator-ejector" target="_blank" rel="noopener noreferrer">https://github.com/lidofinance/validator-ejector</a></p><p>Lido Withdrawals: Automating Validator Exits - parts can now be outdated
<a href="https://hackmd.io/@lido/BkxRxAr-o" target="_blank" rel="noopener noreferrer">https://hackmd.io/@lido/BkxRxAr-o</a></p><p>Ejector Logic Spec - parts can now be outdated
<a href="https://hackmd.io/@lido/r1KZ4YNdj" target="_blank" rel="noopener noreferrer">https://hackmd.io/@lido/r1KZ4YNdj</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lidofinance/docs/blob/main/docs/guides/validator-ejector-guide.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/tooling"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Tooling Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guides/kapi-guide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Keys API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a><ul><li><a href="#hardware" class="table-of-contents__link toc-highlight">Hardware</a></li><li><a href="#nodes" class="table-of-contents__link toc-highlight">Nodes</a></li><li><a href="#software" class="table-of-contents__link toc-highlight">Software</a></li></ul></li><li><a href="#exit-messages" class="table-of-contents__link toc-highlight">Exit Messages</a><ul><li><a href="#generic-format" class="table-of-contents__link toc-highlight">Generic Format</a></li><li><a href="#ethdo-output-format" class="table-of-contents__link toc-highlight">ethdo Output Format</a></li><li><a href="#encrypted-format" class="table-of-contents__link toc-highlight">Encrypted Format</a></li></ul></li><li><a href="#encrypting-messages" class="table-of-contents__link toc-highlight">Encrypting Messages</a><ul><li><a href="#encryption-using-ejector---source-code" class="table-of-contents__link toc-highlight">Encryption using Ejector - Source Code</a></li><li><a href="#encryption-using-ejector---docker" class="table-of-contents__link toc-highlight">Encryption using Ejector - Docker</a></li></ul></li><li><a href="#env-variables" class="table-of-contents__link toc-highlight">Env Variables</a><ul><li><a href="#execution_node" class="table-of-contents__link toc-highlight">EXECUTION_NODE</a></li><li><a href="#consensus_node" class="table-of-contents__link toc-highlight">CONSENSUS_NODE</a></li><li><a href="#locator_address" class="table-of-contents__link toc-highlight">LOCATOR_ADDRESS</a></li><li><a href="#staking_module_id" class="table-of-contents__link toc-highlight">STAKING_MODULE_ID</a></li><li><a href="#operator_id" class="table-of-contents__link toc-highlight">OPERATOR_ID</a></li><li><a href="#messages_location" class="table-of-contents__link toc-highlight">MESSAGES_LOCATION</a></li><li><a href="#validator_exit_webhook" class="table-of-contents__link toc-highlight">VALIDATOR_EXIT_WEBHOOK</a></li><li><a href="#oracle_addresses_allowlist" class="table-of-contents__link toc-highlight">ORACLE_ADDRESSES_ALLOWLIST</a></li><li><a href="#messages_password" class="table-of-contents__link toc-highlight">MESSAGES_PASSWORD</a></li><li><a href="#messages_password_file" class="table-of-contents__link toc-highlight">MESSAGES_PASSWORD_FILE</a></li><li><a href="#blocks_preload" class="table-of-contents__link toc-highlight">BLOCKS_PRELOAD</a></li><li><a href="#http_port" class="table-of-contents__link toc-highlight">HTTP_PORT</a></li><li><a href="#run_metrics" class="table-of-contents__link toc-highlight">RUN_METRICS</a></li><li><a href="#run_health_check" class="table-of-contents__link toc-highlight">RUN_HEALTH_CHECK</a></li><li><a href="#logger_level" class="table-of-contents__link toc-highlight">LOGGER_LEVEL</a></li><li><a href="#logger_format" class="table-of-contents__link toc-highlight">LOGGER_FORMAT</a></li><li><a href="#logger_secrets" class="table-of-contents__link toc-highlight">LOGGER_SECRETS</a></li><li><a href="#dry_run" class="table-of-contents__link toc-highlight">DRY_RUN</a></li><li><a href="#advanced-parameters" class="table-of-contents__link toc-highlight">Advanced Parameters</a></li></ul></li><li><a href="#running" class="table-of-contents__link toc-highlight">Running</a><ul><li><a href="#source-code" class="table-of-contents__link toc-highlight">Source Code</a></li><li><a href="#docker-with-docker-compose" class="table-of-contents__link toc-highlight">Docker with docker-compose</a></li></ul></li><li><a href="#check-ejector-is-working" class="table-of-contents__link toc-highlight">Check Ejector is working</a></li><li><a href="#what-if-something-is-wrong" class="table-of-contents__link toc-highlight">What if something is wrong?</a></li><li><a href="#additional-resources" class="table-of-contents__link toc-highlight">Additional Resources</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.c45f33a5.js"></script>
<script src="/assets/js/main.9fc74317.js"></script>
</body>
</html>